# ğŸ› ï¸ Ø¯Ù„ÙŠÙ„ Ù…Ø·ÙˆØ± Ø¯ÙŠÙˆÙ„ÙŠ (Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©)

<div align="center">

![Ø´Ø¹Ø§Ø± Ø¯ÙŠÙˆÙ„ÙŠ](../public/static/dueli-icon.png)

**Ù…Ø±Ø¬Ø¹ ØªÙ‚Ù†ÙŠ Ù„Ù„Ù…Ø·ÙˆØ±ÙŠÙ†**

</div>

---

## ğŸ“– ÙÙ‡Ø±Ø³ Ø§Ù„Ù…Ø­ØªÙˆÙŠØ§Øª

1. [Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù‡Ù†Ø¯Ø³Ø©](#Ù†Ø¸Ø±Ø©-Ø¹Ø§Ù…Ø©-Ø¹Ù„Ù‰-Ø§Ù„Ù‡Ù†Ø¯Ø³Ø©)
2. [Ø§Ù„Ù…Ø¨Ø§Ø¯Ø¦ Ø§Ù„Ø¥Ù„Ø²Ø§Ù…ÙŠØ©](#Ø§Ù„Ù…Ø¨Ø§Ø¯Ø¦-Ø§Ù„Ø¥Ù„Ø²Ø§Ù…ÙŠØ©)
3. [Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹](#Ù‡ÙŠÙƒÙ„-Ø§Ù„Ù…Ø´Ø±ÙˆØ¹)
4. [Ø·Ø¨Ù‚Ø© Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª](#Ø·Ø¨Ù‚Ø©-Ù‚Ø§Ø¹Ø¯Ø©-Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª)
5. [Ø·Ø¨Ù‚Ø© API](#Ø·Ø¨Ù‚Ø©-api)
6. [Ù‡Ù†Ø¯Ø³Ø© Ø¬Ø§Ù†Ø¨ Ø§Ù„Ø¹Ù…ÙŠÙ„](#Ù‡Ù†Ø¯Ø³Ø©-Ø¬Ø§Ù†Ø¨-Ø§Ù„Ø¹Ù…ÙŠÙ„)
7. [Ø§Ù„Ù…ÙŠØ²Ø§Øª ØºÙŠØ± Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©](#Ø§Ù„Ù…ÙŠØ²Ø§Øª-ØºÙŠØ±-Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©)
8. [Ø§Ù„ØªØ­Ø°ÙŠØ±Ø§Øª Ø§Ù„ØªÙ‚Ù†ÙŠØ©](#Ø§Ù„ØªØ­Ø°ÙŠØ±Ø§Øª-Ø§Ù„ØªÙ‚Ù†ÙŠØ©)
9. [Ø¥Ø±Ø´Ø§Ø¯Ø§Øª Ø§Ù„ØªØ·ÙˆÙŠØ±](#Ø¥Ø±Ø´Ø§Ø¯Ø§Øª-Ø§Ù„ØªØ·ÙˆÙŠØ±)
10. [Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± ÙˆØ§Ù„ØªØµØ­ÙŠØ­](#Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±-ÙˆØ§Ù„ØªØµØ­ÙŠØ­)

---

## Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù‡Ù†Ø¯Ø³Ø©

### Ù†Ù…Ø· MVC

ØªØªØ¨Ø¹ Ø¯ÙŠÙˆÙ„ÙŠ Ù‡Ù†Ø¯Ø³Ø© MVC (Ø§Ù„Ù†Ù…ÙˆØ°Ø¬-Ø§Ù„Ø¹Ø±Ø¶-Ø§Ù„Ù…ØªØ­ÙƒÙ…) Ø§Ù„ØµØ§Ø±Ù…Ø©:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Ø§Ù„Ø¹Ù…ÙŠÙ„                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚    Ø§Ù„Ø­Ø§Ù„Ø©   â”‚  â”‚   Ø§Ù„Ø®Ø¯Ù…Ø§Øª   â”‚  â”‚   Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©   â”‚         â”‚
â”‚  â”‚  (Ø§Ù„ØªØ®Ø²ÙŠÙ†)  â”‚  â”‚  (Ø§Ù„Ù…Ù†Ø·Ù‚)   â”‚  â”‚  (Ø§Ù„Ø¹Ø±Ø¶)    â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ HTTP/WebSocket
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Ø§Ù„Ø®Ø§Ø¯Ù…                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚   Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª  â”‚â”€â”€â”‚ Ø§Ù„Ù…ØªØ­ÙƒÙ…Ø§Øª   â”‚â”€â”€â”‚   Ø§Ù„Ù†Ù…Ø§Ø°Ø¬   â”‚         â”‚
â”‚  â”‚ (API/HTML)  â”‚  â”‚  (Ø§Ù„Ù…Ù†Ø·Ù‚)   â”‚  â”‚  (Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª) â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                              â”‚                               â”‚
â”‚                              â–¼                               â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚                    â”‚ Ù‚Ø§Ø¹Ø¯Ø© D1    â”‚                          â”‚
â”‚                    â”‚  (SQLite)   â”‚                          â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Ø­Ø²Ù…Ø© Ø§Ù„ØªÙ‚Ù†ÙŠØ§Øª

| Ø§Ù„Ø·Ø¨Ù‚Ø© | Ø§Ù„ØªÙ‚Ù†ÙŠØ© | Ø§Ù„ØºØ±Ø¶ |
|--------|---------|-------|
| ÙˆÙ‚Øª Ø§Ù„ØªØ´ØºÙŠÙ„ | Cloudflare Workers | ØªÙ†ÙÙŠØ° Ø¨Ù„Ø§ Ø®Ø§Ø¯Ù… |
| Ø§Ù„Ø¥Ø·Ø§Ø± | Hono 4.x | ØªÙˆØ¬ÙŠÙ‡ HTTP ÙˆØ§Ù„Ø¨Ø±Ù…Ø¬ÙŠØ§Øª Ø§Ù„ÙˆØ³ÙŠØ·Ø© |
| Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª | Cloudflare D1 | Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª SQLite |
| Ø§Ù„Ù„ØºØ© | TypeScript 5.x | Ø£Ù…Ø§Ù† Ø§Ù„Ø£Ù†ÙˆØ§Ø¹ |
| Ø§Ù„ØªÙ†Ø³ÙŠÙ‚ | TailwindCSS 4.x | CSS Ø£ÙˆÙ„Ø§Ù‹ Ø¨Ø§Ù„Ø£Ø¯ÙˆØ§Øª |
| Ø§Ù„Ø¨Ù†Ø§Ø¡ | Vite 7.x | Ø§Ù„Ø­Ø²Ù… ÙˆØ®Ø§Ø¯Ù… Ø§Ù„ØªØ·ÙˆÙŠØ± |
| Ø§Ù„Ø¹Ù…ÙŠÙ„ | Vanilla JS/TS | Ø¨Ø¯ÙˆÙ† ØªØ¨Ø¹ÙŠØ§Øª Ø¥Ø·Ø§Ø± Ø¹Ù…Ù„ |

---

## Ø§Ù„Ù…Ø¨Ø§Ø¯Ø¦ Ø§Ù„Ø¥Ù„Ø²Ø§Ù…ÙŠØ©

### 1. Ø£Ù…Ø§Ù† Ø§Ù„Ø£Ù†ÙˆØ§Ø¹

**ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙƒÙˆØ¯ Ù…ÙƒØªÙˆØ¨ Ø§Ù„Ø£Ù†ÙˆØ§Ø¹ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„.**

```typescript
// âœ… ØµØ­ÙŠØ­
interface User {
    id: number;
    email: string;
    username: string;
}

function getUser(id: number): Promise<User | null> {
    return this.db.prepare('SELECT * FROM users WHERE id = ?')
        .bind(id)
        .first<User>();
}

// âŒ Ø®Ø·Ø£
function getUser(id) {
    return this.db.prepare('SELECT * FROM users WHERE id = ?')
        .bind(id)
        .first();
}
```

### 2. Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡

**ÙŠØ¬Ø¨ Ø£Ù† ØªØ­ØªÙˆÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª ØºÙŠØ± Ø§Ù„Ù…ØªØ²Ø§Ù…Ù†Ø© Ø¹Ù„Ù‰ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø£Ø®Ø·Ø§Ø¡ Ù…Ù†Ø§Ø³Ø¨Ø©.**

```typescript
// âœ… ØµØ­ÙŠØ­
try {
    const user = await UserModel.findById(db, userId);
    if (!user) {
        return c.json({ success: false, error: 'User not found' }, 404);
    }
    return c.json({ success: true, data: user });
} catch (error) {
    console.error('Error fetching user:', error);
    return c.json({ success: false, error: 'Internal server error' }, 500);
}

// âŒ Ø®Ø·Ø£
const user = await UserModel.findById(db, userId);
return c.json({ data: user });
```

### 3. Ù…Ù†Ø¹ Ø­Ù‚Ù† SQL

**Ø§Ø³ØªØ®Ø¯Ù… Ø¯Ø§Ø¦Ù…Ø§Ù‹ Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª Ø°Ø§Øª Ù…Ø¹Ù„Ù…Ø§Øª.**

```typescript
// âœ… ØµØ­ÙŠØ­
const result = await db.prepare('SELECT * FROM users WHERE email = ?')
    .bind(email)
    .all();

// âŒ Ø®Ø·Ø£ - Ø«ØºØ±Ø© Ø­Ù‚Ù† SQL
const result = await db.prepare(`SELECT * FROM users WHERE email = '${email}'`)
    .all();
```

### 4. Ø¨Ø±Ù…Ø¬ÙŠØ© Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© Ø§Ù„ÙˆØ³ÙŠØ·Ø©

**Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„Ù…Ø­Ù…ÙŠØ© ÙŠØ¬Ø¨ Ø£Ù† ØªØ³ØªØ®Ø¯Ù… Ø¨Ø±Ù…Ø¬ÙŠØ© Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© Ø§Ù„ÙˆØ³ÙŠØ·Ø©.**

```typescript
// âœ… ØµØ­ÙŠØ­
app.post('/api/competitions', authMiddleware, async (c) => {
    const user = c.get('user');
    // ... Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ù†Ø§ÙØ³Ø©
});

// âŒ Ø®Ø·Ø£ - Ø¨Ø¯ÙˆÙ† ÙØ­Øµ Ù…ØµØ§Ø¯Ù‚Ø©
app.post('/api/competitions', async (c) => {
    // ... Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ù†Ø§ÙØ³Ø© Ø¨Ø¯ÙˆÙ† Ù…ØµØ§Ø¯Ù‚Ø©
});
```

### 5. Ø§Ù„ØªØ¯ÙˆÙŠÙ„

**Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù†ØµÙˆØµ Ø§Ù„ØªÙŠ ØªØ¸Ù‡Ø± Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªØ±Ø¬Ù…Ø©.**

```typescript
// âœ… ØµØ­ÙŠØ­
const tr = translations[getUILanguage(lang)];
const message = tr.competition_created;

// âŒ Ø®Ø·Ø£ - Ù†Øµ Ø«Ø§Ø¨Øª
const message = 'ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ù†Ø§ÙØ³Ø© Ø¨Ù†Ø¬Ø§Ø­';
```

---

## Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹

### ØªØ®Ø·ÙŠØ· Ø§Ù„Ø¯Ù„ÙŠÙ„

```
src/
â”œâ”€â”€ main.ts                    # Ù†Ù‚Ø·Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ØŒ Ø¥Ø¹Ø¯Ø§Ø¯ ØªØ·Ø¨ÙŠÙ‚ Hono
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ types.ts               # ÙˆØ§Ø¬Ù‡Ø§Øª TypeScript
â”‚   â”œâ”€â”€ defaults.ts            # Ø§Ù„ØªÙƒÙˆÙŠÙ† Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ
â”‚   â””â”€â”€ pwa.ts                 # ØªÙƒÙˆÙŠÙ† PWA
â”‚
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ base/
â”‚   â”‚   â””â”€â”€ BaseModel.ts       # Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ Ø§Ù„Ù…Ø¬Ø±Ø¯
â”‚   â”œâ”€â”€ UserModel.ts
â”‚   â”œâ”€â”€ CompetitionModel.ts
â”‚   â””â”€â”€ ...                    # Ù†Ù…Ø§Ø°Ø¬ Ø£Ø®Ø±Ù‰
â”‚
â”œâ”€â”€ controllers/
â”‚   â”œâ”€â”€ base/
â”‚   â”‚   â””â”€â”€ BaseController.ts  # Ø§Ù„Ù…ØªØ­ÙƒÙ… Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ
â”‚   â”œâ”€â”€ AuthController.ts
â”‚   â”œâ”€â”€ CompetitionController.ts
â”‚   â””â”€â”€ ...                    # Ù…ØªØ­ÙƒÙ…Ø§Øª Ø£Ø®Ø±Ù‰
â”‚
â”œâ”€â”€ modules/
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”‚   â”œâ”€â”€ routes.ts      # Ù…Ø³Ø§Ø±Ø§Øª API Ù„Ù„Ù…ØµØ§Ø¯Ù‚Ø©
â”‚   â”‚   â”‚   â”œâ”€â”€ helpers.ts     # Ù…Ø³Ø§Ø¹Ø¯Ø§Øª Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©
â”‚   â”‚   â”‚   â””â”€â”€ oauth-routes.ts # Ù…Ø³Ø§Ø±Ø§Øª OAuth
â”‚   â”‚   â””â”€â”€ ...                # ÙˆØ­Ø¯Ø§Øª API Ø£Ø®Ø±Ù‰
â”‚   â”‚
â”‚   â””â”€â”€ pages/
â”‚       â”œâ”€â”€ home-page.ts
â”‚       â”œâ”€â”€ competition-page.ts
â”‚       â””â”€â”€ ...                # ØµÙØ­Ø§Øª Ø£Ø®Ø±Ù‰
â”‚
â”œâ”€â”€ client/
â”‚   â”œâ”€â”€ index.ts               # Ù†Ù‚Ø·Ø© Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø¹Ù…ÙŠÙ„
â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â”œâ”€â”€ State.ts           # Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø§Ù„Ø©
â”‚   â”‚   â”œâ”€â”€ ApiClient.ts       # Ø¹Ù…ÙŠÙ„ HTTP
â”‚   â”‚   â””â”€â”€ CookieUtils.ts     # Ø£Ø¯ÙˆØ§Øª Ø§Ù„ÙƒÙˆÙƒÙŠØ²
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ AuthService.ts
â”‚   â”‚   â”œâ”€â”€ ThemeService.ts
â”‚   â”‚   â””â”€â”€ ...                # Ø®Ø¯Ù…Ø§Øª Ø£Ø®Ø±Ù‰
â”‚   â”œâ”€â”€ helpers/
â”‚   â”‚   â”œâ”€â”€ DateFormatter.ts
â”‚   â”‚   â”œâ”€â”€ NumberFormatter.ts
â”‚   â”‚   â””â”€â”€ ...                # Ù…Ø³Ø§Ø¹Ø¯Ø§Øª Ø£Ø®Ø±Ù‰
â”‚   â””â”€â”€ ui/
â”‚       â”œâ”€â”€ Toast.ts
â”‚       â”œâ”€â”€ Modal.ts
â”‚       â””â”€â”€ ...                # Ù…ÙƒÙˆÙ†Ø§Øª ÙˆØ§Ø¬Ù‡Ø© Ø£Ø®Ø±Ù‰
â”‚
â”œâ”€â”€ shared/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ competition-card.ts
â”‚   â”‚   â”œâ”€â”€ user-card.ts
â”‚   â”‚   â””â”€â”€ ...                # Ù…ÙƒÙˆÙ†Ø§Øª Ù…Ø´ØªØ±ÙƒØ©
â”‚   â””â”€â”€ templates/
â”‚       â””â”€â”€ layout.ts          # Ù‚Ø§Ù„Ø¨ ØªØ®Ø·ÙŠØ· HTML
â”‚
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ oauth/
â”‚   â”‚   â”œâ”€â”€ BaseOAuthProvider.ts
â”‚   â”‚   â”œâ”€â”€ google.ts
â”‚   â”‚   â””â”€â”€ ...                # Ù…Ø²ÙˆØ¯Ùˆ OAuth
â”‚   â””â”€â”€ services/
â”‚       â”œâ”€â”€ EmailService.ts
â”‚       â”œâ”€â”€ CryptoUtils.ts
â”‚       â””â”€â”€ ...                # Ø®Ø¯Ù…Ø§Øª Ù…Ø³Ø§Ø¹Ø¯Ø©
â”‚
â”œâ”€â”€ i18n/
â”‚   â”œâ”€â”€ ar.ts                  # ØªØ±Ø¬Ù…Ø§Øª Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
â”‚   â”œâ”€â”€ en.ts                  # ØªØ±Ø¬Ù…Ø§Øª Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©
â”‚   â””â”€â”€ index.ts               # Ø£Ø¯ÙˆØ§Øª Ø§Ù„ØªØ¯ÙˆÙŠÙ„
â”‚
â”œâ”€â”€ middleware/
â”‚   â”œâ”€â”€ auth.ts                # Ø¨Ø±Ù…Ø¬ÙŠØ© Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© Ø§Ù„ÙˆØ³ÙŠØ·Ø©
â”‚   â””â”€â”€ index.ts               # ØªØµØ¯ÙŠØ±Ø§Øª Ø§Ù„Ø¨Ø±Ù…Ø¬ÙŠØ§Øª Ø§Ù„ÙˆØ³ÙŠØ·Ø©
â”‚
â””â”€â”€ countries.ts               # Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯ÙˆÙ„
```

---

## Ø·Ø¨Ù‚Ø© Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

### ÙØ¦Ø© BaseModel

Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ ØªØ±Ø« Ù…Ù† ÙØ¦Ø© BaseModel:

```typescript
// src/models/base/BaseModel.ts
export abstract class BaseModel {
    protected db: D1Database;
    protected tableName: string;

    constructor(db: D1Database, tableName: string) {
        this.db = db;
        this.tableName = tableName;
    }

    async findById<T>(id: number): Promise<T | null> {
        return this.db.prepare(`SELECT * FROM ${this.tableName} WHERE id = ?`)
            .bind(id)
            .first<T>();
    }

    async findAll<T>(options?: QueryOptions): Promise<T[]> {
        let query = `SELECT * FROM ${this.tableName}`;
        // ... ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª
        const result = await this.db.prepare(query).all<T>();
        return result.results || [];
    }

    async delete(id: number): Promise<boolean> {
        const result = await this.db.prepare(`DELETE FROM ${this.tableName} WHERE id = ?`)
            .bind(id)
            .run();
        return result.success;
    }
}
```

### Ù…Ø«Ø§Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬

```typescript
// src/models/UserModel.ts
export class UserModel extends BaseModel {
    constructor(db: D1Database) {
        super(db, 'users');
    }

    async findByEmail(email: string): Promise<User | null> {
        return this.db.prepare('SELECT * FROM users WHERE email = ?')
            .bind(email)
            .first<User>();
    }

    async findByUsername(username: string): Promise<User | null> {
        return this.db.prepare('SELECT * FROM users WHERE username = ?')
            .bind(username)
            .first<User>();
    }

    async create(data: CreateUserData): Promise<User> {
        const result = await this.db.prepare(`
            INSERT INTO users (email, username, password_hash, display_name, avatar_url, country, language)
            VALUES (?, ?, ?, ?, ?, ?, ?)
        `).bind(
            data.email,
            data.username,
            data.password_hash,
            data.display_name,
            data.avatar_url || null,
            data.country || 'SA',
            data.language || 'ar'
        ).run();

        return this.findById<User>(result.meta.last_row_id);
    }

    async update(id: number, data: UpdateUserData): Promise<User | null> {
        const fields: string[] = [];
        const values: any[] = [];

        Object.entries(data).forEach(([key, value]) => {
            if (value !== undefined) {
                fields.push(`${key} = ?`);
                values.push(value);
            }
        });

        if (fields.length === 0) return this.findById(id);

        values.push(id);
        await this.db.prepare(`
            UPDATE users SET ${fields.join(', ')}, updated_at = CURRENT_TIMESTAMP
            WHERE id = ?
        `).bind(...values).run();

        return this.findById(id);
    }
}
```

---

## Ø·Ø¨Ù‚Ø© API

### ØªØ¹Ø±ÙŠÙ Ø§Ù„Ù…Ø³Ø§Ø±

```typescript
// src/modules/api/users/routes.ts
import { Hono } from 'hono';
import { authMiddleware } from '../../../middleware/auth';

const app = new Hono<{ Bindings: Bindings; Variables: Variables }>();

// Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø©
app.get('/:id', async (c) => {
    const db = c.env.DB;
    const id = parseInt(c.req.param('id'));
    
    const user = await UserModel.findById(db, id);
    if (!user) {
        return c.json({ success: false, error: 'User not found' }, 404);
    }
    
    return c.json({ success: true, data: user });
});

// Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„Ù…Ø­Ù…ÙŠØ©
app.put('/:id', authMiddleware, async (c) => {
    const currentUser = c.get('user');
    const targetId = parseInt(c.req.param('id'));
    
    // Ø§Ù„Ø³Ù…Ø§Ø­ ÙÙ‚Ø· Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø¨ØªØ­Ø¯ÙŠØ« Ù…Ù„ÙÙ‡Ù… Ø§Ù„Ø®Ø§Øµ
    if (currentUser.id !== targetId) {
        return c.json({ success: false, error: 'Unauthorized' }, 403);
    }
    
    const body = await c.req.json();
    const updated = await UserModel.update(c.env.DB, targetId, body);
    
    return c.json({ success: true, data: updated });
});

export default app;
```

### Ù†Ù…Ø· Ø§Ù„Ù…ØªØ­ÙƒÙ…

```typescript
// src/controllers/UserController.ts
export class UserController extends BaseController {
    async getProfile(c: Context): Promise<Response> {
        const userId = this.getCurrentUserId(c);
        const user = await UserModel.findById(this.db, userId);
        
        if (!user) {
            return this.notFound('Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯');
        }
        
        return this.success(user);
    }

    async updateProfile(c: Context): Promise<Response> {
        const userId = this.getCurrentUserId(c);
        const body = await c.req.json();
        
        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…Ø¯Ø®Ù„Ø§Øª
        const validation = this.validate(body, {
            display_name: { required: true, minLength: 2 },
            bio: { maxLength: 500 }
        });
        
        if (!validation.valid) {
            return this.validationError(validation.errors);
        }
        
        const updated = await UserModel.update(this.db, userId, body);
        return this.success(updated);
    }
}
```

---

## Ù‡Ù†Ø¯Ø³Ø© Ø¬Ø§Ù†Ø¨ Ø§Ù„Ø¹Ù…ÙŠÙ„

### Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø§Ù„Ø©

```typescript
// src/client/core/State.ts
export class State {
    private static _currentUser: User | null = null;
    private static _sessionId: string | null = null;
    private static _lang: Language = 'ar';
    private static _isDarkMode: boolean = false;
    private static _country: string = 'SA';

    static get currentUser(): User | null {
        return this._currentUser;
    }

    static set currentUser(user: User | null) {
        this._currentUser = user;
        this.notifyListeners('user', user);
    }

    static init(): void {
        // Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ù…Ù† Ø§Ù„ÙƒÙˆÙƒÙŠØ²
        this._sessionId = CookieUtils.get('session');
        this._lang = CookieUtils.get('lang') as Language || 'ar';
        this._isDarkMode = CookieUtils.get('theme') === 'dark';
        this._country = CookieUtils.get('country') || 'SA';
    }

    private static listeners: Map<string, Function[]> = new Map();

    static subscribe(key: string, callback: Function): () => void {
        if (!this.listeners.has(key)) {
            this.listeners.set(key, []);
        }
        this.listeners.get(key)!.push(callback);
        
        // Ø¥Ø±Ø¬Ø§Ø¹ Ø¯Ø§Ù„Ø© Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ
        return () => {
            const callbacks = this.listeners.get(key);
            const index = callbacks?.indexOf(callback) ?? -1;
            if (index > -1) {
                callbacks?.splice(index, 1);
            }
        };
    }

    private static notifyListeners(key: string, value: any): void {
        const callbacks = this.listeners.get(key);
        callbacks?.forEach(cb => cb(value));
    }
}
```

### Ø¹Ù…ÙŠÙ„ API

```typescript
// src/client/core/ApiClient.ts
export class ApiClient {
    private static async request<T>(
        method: string,
        url: string,
        data?: any
    ): Promise<T> {
        const options: RequestInit = {
            method,
            headers: {
                'Content-Type': 'application/json',
            },
            credentials: 'include',
        };

        if (data) {
            options.body = JSON.stringify(data);
        }

        const response = await fetch(url, options);
        const result = await response.json();

        if (!response.ok) {
            throw new Error(result.error || 'ÙØ´Ù„ Ø§Ù„Ø·Ù„Ø¨');
        }

        return result;
    }

    static get<T>(url: string): Promise<T> {
        return this.request<T>('GET', url);
    }

    static post<T>(url: string, data?: any): Promise<T> {
        return this.request<T>('POST', url, data);
    }

    static put<T>(url: string, data?: any): Promise<T> {
        return this.request<T>('PUT', url, data);
    }

    static delete<T>(url: string): Promise<T> {
        return this.request<T>('DELETE', url);
    }
}
```

---

## Ø§Ù„Ù…ÙŠØ²Ø§Øª ØºÙŠØ± Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©

### 1. Ø­Ø°Ù Ø§Ù„Ø­Ø³Ø§Ø¨

**Ø§Ù„Ù…ÙˆÙ‚Ø¹**: `src/modules/pages/settings-page.ts:220`

**Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©**:
```typescript
// TODO: Implement account deletion
alert('Account deletion will be implemented soon.');
```

**Ø§Ù„ØªÙ†ÙÙŠØ° Ø§Ù„Ù…Ø·Ù„ÙˆØ¨**:
1. Ø¥Ø¶Ø§ÙØ© Ù†Ù‚Ø·Ø© Ù†Ù‡Ø§ÙŠØ© DELETE ÙÙŠ `/api/users/me`
2. Ø­Ø°Ù Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ Ø§Ù„Ù…Ø±ØªØ¨Ø·Ø©
3. Ø­Ø°Ù Ø¬Ù„Ø³Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
4. Ø­Ø°Ù Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… (Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø±Ù…Ø²ÙŠØ©ØŒ Ø¥Ù„Ø®)
5. ØªØ¬Ø±ÙŠØ¯ Ø£Ùˆ Ø­Ø°Ù Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… (Ø§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§ØªØŒ Ø¥Ù„Ø®)

**Ø¬Ø¯Ø§ÙˆÙ„ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„ØªØ­Ø¯ÙŠØ«**:
- `users` - Ø­Ø°Ù Ø§Ù„Ø³Ø¬Ù„
- `sessions` - Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø¬Ù„Ø³Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
- `competitions` - Ù…Ø¹Ø§Ù„Ø¬Ø© Ù…Ø±Ø§Ø¬Ø¹ Ø§Ù„Ù…Ù†Ø´Ø¦/Ø§Ù„Ø®ØµÙ…
- `comments` - Ø­Ø°Ù Ø£Ùˆ ØªØ¬Ø±ÙŠØ¯ Ø§Ù„Ù‡ÙˆÙŠØ©
- `notifications` - Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
- `messages` - Ø­Ø°Ù Ø£Ùˆ ØªØ¬Ø±ÙŠØ¯ Ø§Ù„Ù‡ÙˆÙŠØ©
- `likes`, `dislikes`, `ratings` - Ø­Ø°Ù

### 2. Ù†Ø¸Ø§Ù… Ø·Ù„Ø¨ Ø§Ù„Ø³Ø­Ø¨

**Ø§Ù„Ù…ÙˆÙ‚Ø¹**: `src/modules/pages/earnings-page.ts:166`

**Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©**:
```typescript
// TODO: Implement withdrawal request
alert('Withdrawal request will be implemented soon.');
```

**Ø§Ù„ØªÙ†ÙÙŠØ° Ø§Ù„Ù…Ø·Ù„ÙˆØ¨**:
1. Ø¥Ù†Ø´Ø§Ø¡ Ø¬Ø¯ÙˆÙ„ `withdrawal_requests`
2. Ø¥Ø¶Ø§ÙØ© Ù†Ù‚Ø§Ø· Ù†Ù‡Ø§ÙŠØ© API Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø³Ø­Ø¨
3. Ø¥Ø¶Ø§ÙØ© Ù„ÙˆØ­Ø© Ù…Ø´Ø±Ù Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø³Ø­ÙˆØ¨Ø§Øª
4. Ø§Ù„ØªÙƒØ§Ù…Ù„ Ù…Ø¹ Ù…Ø²ÙˆØ¯ Ø§Ù„Ø¯ÙØ¹ (PayPalØŒ Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø¨Ù†ÙƒÙŠ)

**Ù…Ø®Ø·Ø· Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª**:
```sql
CREATE TABLE withdrawal_requests (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER NOT NULL,
    amount REAL NOT NULL,
    payment_method TEXT NOT NULL,
    payment_details TEXT NOT NULL,
    status TEXT DEFAULT 'pending',
    processed_at TEXT,
    processed_by INTEGER,
    created_at TEXT DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id),
    FOREIGN KEY (processed_by) REFERENCES users(id)
);
```

### 3. ØªÙƒØ§Ù…Ù„ Ø§Ù„Ø¯ÙØ¹ Ù„Ù„ØªØ¨Ø±Ø¹Ø§Øª

**Ø§Ù„Ù…ÙˆÙ‚Ø¹**: `src/modules/pages/donate-page.ts:135`

**Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©**:
```typescript
// TODO: Integrate with payment processor
alert(`Thank you for your donation of $${amount}! Payment processing will be implemented soon.`);
```

**Ø§Ù„ØªÙ†ÙÙŠØ° Ø§Ù„Ù…Ø·Ù„ÙˆØ¨**:
1. Ø§Ù„ØªÙƒØ§Ù…Ù„ Ù…Ø¹ Ù…Ø²ÙˆØ¯ Ø§Ù„Ø¯ÙØ¹ (StripeØŒ PayPal)
2. Ø¥Ù†Ø´Ø§Ø¡ Ø¬Ø¯ÙˆÙ„ `donations`
3. Ø¥Ø¶Ø§ÙØ© Ù†Ù‚Ø§Ø· Ù†Ù‡Ø§ÙŠØ© API Ù„Ù„ØªØ¨Ø±Ø¹Ø§Øª
4. Ù…Ø¹Ø§Ù„Ø¬Ø© webhooks Ø§Ù„Ø¯ÙØ¹
5. ØªØ­Ø¯ÙŠØ« Ø£Ø±Ø¨Ø§Ø­ Ø§Ù„Ù…Ù†Ø´Ø¦

**Ù…Ø®Ø·Ø· Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª**:
```sql
CREATE TABLE donations (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    donor_id INTEGER,
    recipient_id INTEGER NOT NULL,
    amount REAL NOT NULL,
    currency TEXT DEFAULT 'USD',
    payment_method TEXT NOT NULL,
    payment_id TEXT,
    status TEXT DEFAULT 'pending',
    created_at TEXT DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (donor_id) REFERENCES users(id),
    FOREIGN KEY (recipient_id) REFERENCES users(id)
);
```

### 4. Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥Ø¨Ù„Ø§Øº Ø¹Ù† Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª

**Ø§Ù„Ù…ÙˆÙ‚Ø¹**: `src/modules/pages/live-room-page.ts:807`

**Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©**:
```typescript
// TODO: Send report to server
log('Ad reported', 'info');
```

**Ø§Ù„ØªÙ†ÙÙŠØ° Ø§Ù„Ù…Ø·Ù„ÙˆØ¨**:
1. Ø¥Ø¶Ø§ÙØ© Ø¬Ø¯ÙˆÙ„ `ad_reports` Ø£Ùˆ ØªÙˆØ³ÙŠØ¹ Ø¬Ø¯ÙˆÙ„ `reports`
2. Ø¥Ù†Ø´Ø§Ø¡ Ù†Ù‚Ø·Ø© Ù†Ù‡Ø§ÙŠØ© API Ù„Ù„Ø¥Ø¨Ù„Ø§Øº Ø¹Ù† Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª
3. Ø¥Ø¶Ø§ÙØ© Ù„ÙˆØ­Ø© Ù…Ø´Ø±Ù Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª

### 5. Ø¥Ø´Ø¹Ø§Ø± Toast ÙÙŠ Ø§Ù„ØºØ±ÙØ© Ø§Ù„Ù…Ø¨Ø§Ø´Ø±Ø©

**Ø§Ù„Ù…ÙˆÙ‚Ø¹**: `src/modules/pages/live-room-page.ts:962`

**Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©**:
```typescript
// TODO: Implement toast notification
console.log('[' + type + ']', msg);
```

**Ø§Ù„ØªÙ†ÙÙŠØ° Ø§Ù„Ù…Ø·Ù„ÙˆØ¨**:
- Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø®Ø¯Ù…Ø© Toast Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø© Ù…Ù† `src/client/ui/Toast.ts`

---

## Ø§Ù„ØªØ­Ø°ÙŠØ±Ø§Øª Ø§Ù„ØªÙ‚Ù†ÙŠØ©

### âš ï¸ Ù…Ø´Ø§ÙƒÙ„ Ø­Ø±Ø¬Ø©

1. **Ù…Ù„ÙØ§Øª ØªØ±Ø­ÙŠÙ„ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…ÙÙ‚ÙˆØ¯Ø©**
   - Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù…Ù„ÙØ§Øª ØªØ±Ø­ÙŠÙ„ ÙÙŠ Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹
   - Ù…Ø®Ø·Ø· Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø¹Ø±Ù ÙÙŠ `seed.sql` ÙÙ‚Ø·
   - Ø§Ù„Ø­Ø§Ø¬Ø© Ù„Ø¥Ù†Ø´Ø§Ø¡ Ù†Ø¸Ø§Ù… ØªØ±Ø­ÙŠÙ„ Ù…Ù†Ø§Ø³Ø¨

2. **Ø£Ù…Ø§Ù† Ø§Ù„Ø¬Ù„Ø³Ø©**
   - Ø§Ù„Ø¬Ù„Ø³Ø§Øª Ù…Ø®Ø²Ù†Ø© ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø¯ÙˆÙ† ØªØ´ÙÙŠØ±
   - Ø§Ù„Ù†Ø¸Ø± ÙÙŠ ØªØ´ÙÙŠØ± Ø±Ù…ÙˆØ² Ø§Ù„Ø¬Ù„Ø³Ø©
   - Ø¥Ø¶Ø§ÙØ© Ø­Ù…Ø§ÙŠØ© CSRF

3. **ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…Ø¹Ø¯Ù„**
   - Ù„Ø§ ÙŠÙˆØ¬Ø¯ ØªØ­Ø¯ÙŠØ¯ Ù…Ø¹Ø¯Ù„ Ø¹Ù„Ù‰ Ù†Ù‚Ø§Ø· Ù†Ù‡Ø§ÙŠØ© API
   - Ø¹Ø±Ø¶Ø© Ù„Ù‡Ø¬Ù…Ø§Øª Ø§Ù„Ù‚ÙˆØ© Ø§Ù„ØºØ§Ø´Ù…Ø©
   - Ø¥Ø¶Ø§ÙØ© Ø¨Ø±Ù…Ø¬ÙŠØ© ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…Ø¹Ø¯Ù„ Ø§Ù„ÙˆØ³ÙŠØ·Ø©

### âš ï¸ Ø§Ø¹ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„Ø£Ø¯Ø§Ø¡

1. **Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª**
   - Ø¨Ø¹Ø¶ Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª ØªÙØªÙ‚Ø± Ø¥Ù„Ù‰ Ø§Ù„ÙÙ‡Ø±Ø³Ø© Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©
   - Ø¥Ø¶Ø§ÙØ© ÙÙ‡Ø§Ø±Ø³ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø¹Ù…Ø¯Ø© Ø§Ù„ØªÙŠ ÙŠØªÙ… Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù… Ø¹Ù†Ù‡Ø§ Ø¨Ø´ÙƒÙ„ Ù…ØªÙƒØ±Ø±
   - Ø§Ø³ØªØ®Ø¯Ø§Ù… ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù… Ù„Ù„ØªØ­Ø³ÙŠÙ†

2. **Ø­Ø¬Ù… Ø­Ø²Ù…Ø© Ø§Ù„Ø¹Ù…ÙŠÙ„**
   - Ø­Ø²Ù…Ø© Ø§Ù„Ø¹Ù…ÙŠÙ„ Ø­ÙˆØ§Ù„ÙŠ ~13KB (Ù…Ø¶ØºÙˆØ·Ø©)
   - Ø§Ù„Ù†Ø¸Ø± ÙÙŠ ØªÙ‚Ø³ÙŠÙ… Ø§Ù„ÙƒÙˆØ¯ Ù„Ù„ØµÙØ­Ø§Øª

3. **ØªØ­Ø³ÙŠÙ† Ø§Ù„ØµÙˆØ±**
   - Ù„Ø§ ØªÙˆØ¬Ø¯ Ø®Ø· Ø£Ù†Ø§Ø¨ÙŠØ¨ Ù„ØªØ­Ø³ÙŠÙ† Ø§Ù„ØµÙˆØ±
   - Ø§Ù„Ù†Ø¸Ø± ÙÙŠ Ø§Ø³ØªØ®Ø¯Ø§Ù… Cloudflare Images

### âš ï¸ ØªÙˆØµÙŠØ§Øª Ø§Ù„Ø£Ù…Ø§Ù†

1. **Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…Ø¯Ø®Ù„Ø§Øª**
   - Ø¥Ø¶Ø§ÙØ© ØªØ­Ù‚Ù‚ Ø´Ø§Ù…Ù„ Ù…Ù† Ø§Ù„Ù…Ø¯Ø®Ù„Ø§Øª
   - Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…ÙƒØªØ¨Ø© ØªØ­Ù‚Ù‚ (Ù…Ø«Ù„ Zod)

2. **Ø³ÙŠØ§Ø³Ø© Ø£Ù…Ø§Ù† Ø§Ù„Ù…Ø­ØªÙˆÙ‰**
   - Ø¥Ø¶Ø§ÙØ© Ø±Ø¤ÙˆØ³ CSP
   - ØªÙ‚ÙŠÙŠØ¯ Ø§Ù„Ù†ØµÙˆØµ Ø§Ù„Ù…Ø¶Ù…Ù†Ø©

3. **ØªÙƒÙˆÙŠÙ† CORS**
   - Ù…Ø±Ø§Ø¬Ø¹Ø© Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª CORS
   - ØªÙ‚ÙŠÙŠØ¯ Ø§Ù„Ø£ØµÙˆÙ„ Ø§Ù„Ù…Ø³Ù…ÙˆØ­ Ø¨Ù‡Ø§ ÙÙŠ Ø§Ù„Ø¥Ù†ØªØ§Ø¬

---

## Ø¥Ø±Ø´Ø§Ø¯Ø§Øª Ø§Ù„ØªØ·ÙˆÙŠØ±

### Ù†Ù…Ø· Ø§Ù„ÙƒÙˆØ¯

```typescript
// Ø§Ø³ØªØ®Ø¯Ù… const Ù„Ù„Ø«ÙˆØ§Ø¨Øª
const MAX_RETRIES = 3;

// Ø§Ø³ØªØ®Ø¯Ù… async/await Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† .then()
async function fetchData() {
    try {
        const data = await ApiClient.get('/api/data');
        return data;
    } catch (error) {
        console.error(error);
        throw error;
    }
}

// Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„ØªÙÙƒÙŠÙƒ
const { id, name, email } = user;

// Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù‚ÙˆØ§Ù„Ø¨ Ø§Ù„Ø­Ø±ÙÙŠØ©
const message = `ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ${name} Ø¨Ù†Ø¬Ø§Ø­`;

// Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø³Ù„Ø³Ù„Ø© Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±ÙŠØ©
const avatar = user?.profile?.avatar_url;

// Ø§Ø³ØªØ®Ø¯Ù… Ø¹Ø§Ù…Ù„ Ø§Ù„Ø¯Ù…Ø¬ Ø§Ù„ÙØ§Ø±Øº
const lang = user.language ?? 'ar';
```

### Ø§ØµØ·Ù„Ø§Ø­Ø§Øª Ø§Ù„ØªØ³Ù…ÙŠØ©

| Ø§Ù„Ù†ÙˆØ¹ | Ø§Ù„Ø§ØµØ·Ù„Ø§Ø­ | Ø§Ù„Ù…Ø«Ø§Ù„ |
|-------|----------|--------|
| Ø§Ù„Ù…Ù„ÙØ§Øª | kebab-case | `user-model.ts` |
| Ø§Ù„ÙØ¦Ø§Øª | PascalCase | `UserModel` |
| Ø§Ù„Ø¯ÙˆØ§Ù„ | camelCase | `getUserById` |
| Ø§Ù„Ø«ÙˆØ§Ø¨Øª | SCREAMING_SNAKE | `MAX_RETRIES` |
| Ø§Ù„ÙˆØ§Ø¬Ù‡Ø§Øª | PascalCase | `User` |
| Ø§Ù„Ø£Ù†ÙˆØ§Ø¹ | PascalCase | `Language` |

### Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„ØªØ²Ø§Ù… Git

```
feat: Ø¥Ø¶Ø§ÙØ© ØµÙØ­Ø© Ù…Ù„Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
fix: Ø­Ù„ Ù…Ø´ÙƒÙ„Ø© Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©
docs: ØªØ­Ø¯ÙŠØ« ÙˆØ«Ø§Ø¦Ù‚ API
style: ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„ÙƒÙˆØ¯ Ù…Ø¹ prettier
refactor: Ø¥Ø¹Ø§Ø¯Ø© Ù‡ÙŠÙƒÙ„Ø© Ø§Ù„Ù†Ù…Ø§Ø°Ø¬
test: Ø¥Ø¶Ø§ÙØ© Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª ÙˆØ­Ø¯Ø© Ù„Ù€ UserModel
chore: ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ¨Ø¹ÙŠØ§Øª
```

---

## Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± ÙˆØ§Ù„ØªØµØ­ÙŠØ­

### Ø§Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„Ù…Ø­Ù„ÙŠ

```bash
# Ø¨Ø¯Ø¡ Ø®Ø§Ø¯Ù… Ø§Ù„ØªØ·ÙˆÙŠØ± Ù…Ø¹ ÙˆØ¶Ø¹ D1 sandbox
npm run dev:sandbox

# Ø¨Ù†Ø§Ø¡ CSS
npm run build:css

# Ø¨Ù†Ø§Ø¡ Ø­Ø²Ù…Ø© Ø§Ù„Ø¹Ù…ÙŠÙ„
npm run build:client

# Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
npm run db:reset
```

### Ø§Ù„ØªØµØ­ÙŠØ­

```typescript
// Ø§Ø³ØªØ®Ø¯Ù… console.log Ù…Ø¹ Ø¨Ø§Ø¯Ø¦Ø©
console.log('[AuthService]', 'Checking auth...');

// Ø§Ø³ØªØ®Ø¯Ù… Ø¹Ù„Ù… Ø§Ù„ØªØµØ­ÙŠØ­
const DEBUG = true;
if (DEBUG) {
    console.log('State:', State);
}
```

### ØªØµØ­ÙŠØ­ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

```bash
# Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª D1 Ø§Ù„Ù…Ø­Ù„ÙŠØ©
wrangler d1 execute dueli-db --local --command "SELECT * FROM users LIMIT 5"

# ÙØ­Øµ Ù…Ø®Ø·Ø· Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
wrangler d1 execute dueli-db --local --command ".schema"
```

---

## Ù…Ø±Ø¬Ø¹ Ø³Ø±ÙŠØ¹

### Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¨ÙŠØ¦Ø©

```env
# Ù…Ø·Ù„ÙˆØ¨
DB=D1Database (ÙŠÙØ­Ù‚Ù† ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹)
EMAIL_API_KEY=your_key
EMAIL_API_URL=your_url

# OAuth
GOOGLE_CLIENT_ID=your_id
GOOGLE_CLIENT_SECRET=your_secret
FACEBOOK_CLIENT_ID=your_id
FACEBOOK_CLIENT_SECRET=your_secret
MICROSOFT_CLIENT_ID=your_id
MICROSOFT_CLIENT_SECRET=your_secret
MICROSOFT_TENANT_ID=your_tenant
TIKTOK_CLIENT_KEY=your_key
TIKTOK_CLIENT_SECRET=your_secret

# Ø§Ù„Ø¨Ø«
STREAMING_URL=https://stream.maelsh.pro
UPLOAD_URL=https://maelsh.pro/ffmpeg
TURN_URL=turn:maelsh.pro:3000
TURN_SECRET=your_secret
```

### Ø§Ù„Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©

| Ø§Ù„Ø£Ù…Ø± | Ø§Ù„ÙˆØµÙ |
|-------|-------|
| `npm run dev` | Ø¨Ø¯Ø¡ Ø®Ø§Ø¯Ù… Ø§Ù„ØªØ·ÙˆÙŠØ± |
| `npm run dev:sandbox` | Ø¨Ø¯Ø¡ Ù…Ø¹ ÙˆØ¶Ø¹ D1 sandbox |
| `npm run build` | Ø¨Ù†Ø§Ø¡ Ù„Ù„Ø¥Ù†ØªØ§Ø¬ |
| `npm run deploy` | Ù†Ø´Ø± Ø¹Ù„Ù‰ Cloudflare |
| `npm run db:migrate:local` | ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØ±Ø­ÙŠÙ„Ø§Øª |
| `npm run db:seed` | Ø¨Ø°Ø± Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª |
| `npm run db:reset` | Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª |

---

<div align="center">

**ØµÙÙ†Ø¹ Ø¨Ù€ â¤ï¸ Ù…Ù† Ù‚Ø¨Ù„ Maelsh Pro**

</div>
