# ๐ ููุงุตูุงุช ูุชุทูุจุงุช ุงูุจุฑูุฌูุงุช (SRS)
# Software Requirements Specification (SRS)

**ุงููุดุฑูุน:** Dueli - ููุตุฉ ุงูููุงูุณุงุช ุงูุนุงูููุฉ  
**ุงูุฅุตุฏุงุฑ:** 1.0  
**ุงูุชุงุฑูุฎ:** 2026-02-10  
**ุงูุญุงูุฉ:** ูุจูู ุนูู ุงูุชูุซูู ุงูููู ุงููุชุงุญ

---

## 1. ููุฏูุฉ (Introduction)

### 1.1 ุงููุฏู (Purpose)
ูุฐุง ุงููุณุชูุฏ ูุญุฏุฏ ูุชุทูุจุงุช ุจุฑูุฌูุงุช ููุตุฉ Dueliุ ููู ููุตุฉ ุบูุฑ ุฑุจุญูุฉ ููุชูุญุฉ ุงููุตุฏุฑ ููููุงูุณุงุช ุงูุนุงูููุฉ. ุงููุฏู ูู ุญู ุงูููุงุฒุนุงุช ุงูุจุดุฑูุฉ ุนุจุฑ ุงูุญูุงุฑุ ูุงูุงุฑุชูุงุก ุจุงูุนูููุ ูุงูุชุดุงู ุงูููุงูุจ.

### 1.2 ุงููุทุงู (Scope)
ุงูููุตุฉ ุชุชูุญ ูููุณุชุฎุฏููู:
- ุฅูุดุงุก ูุงููุดุงุฑูุฉ ูู ููุงูุณุงุช ุญูุงุฑูุฉ ูุนูููุฉ ููููุฉ
- ุงูุจุซ ุงููุจุงุดุฑ ููููุงูุณุงุช (P2P ู HLS)
- ุชูููู ุงููุชูุงูุณูู ูุชูุฒูุน ุงูุฃุฑุจุงุญ (80/20 split)
- ุงูุชูุงุนู ุนุจุฑ ุงูุชุนูููุงุช ูุงูุฅุนุฌุงุจุงุช ูุงูุฑุณุงุฆู
- ุงููุตุงุฏูุฉ ุนุจุฑ OAuth (Google, Microsoft, Facebook)

### 1.3 ุงูุชุนุฑููุงุช ูุงูุงุฎุชุตุงุฑุงุช (Definitions)
| ุงููุตุทูุญ | ุงูุชุนุฑูู |
|---------|---------|
| SRS | Software Requirements Specification |
| P2P | Peer-to-Peer (WebRTC) |
| HLS | HTTP Live Streaming |
| OAuth | Open Authorization |
| VOD | Video On Demand |
| RTL | Right-to-Left (ููุบุงุช ุงูุนุฑุจูุฉ) |
| i18n | Internationalization |
| MVC | Model-View-Controller |

### 1.4 ุงูุฑุคูุฉ ูุงูุฑุณุงูุฉ (Vision & Mission)
**ุงูุดุนุงุฑ:** "ุงุฑุชููุ ุชุซููููุ ุงุณุชูุชุนุ ูุงุฑุจุญ"

| ุงููููุฉ | ุงููุนูู |
|--------|--------|
| **ุงุฑุชูู** | ุชุทูุฑ ููุฑูุงู ูุนูููุงู |
| **ุชูุซููููู** | ุชุนูู ูู ุงูุญูุงุฑ |
| **ุงุณุชูุชุน** | ุงูุชุนูู ูุชุนุฉ |
| **ูุงุฑุจุญ** | ุงูุณุจ ูุนุฑูุฉุ ุณูุนุฉุ ุญูู |

**ุงูุบุงูุงุช ุงููุจูุฑุฉ:**
1. โ **ููุงูุฉ ุงูุธูู** - ูุธุงู ุชูููู ุดูุงูุ ุจูุงูุงุช ุธุงูุฑุฉุ ุงูููุงูุจ ุชุจุฑุฒ ุจุฐุงุชูุง
2. ๐๏ธ **ุญู ุงููุฒุงุนุงุช** - ุชุญููู ุงููุฒุงุนุงุช ูู ุงูุดูุงุฑุน ุฅูู ููุตุฉ ููุชูุญุฉ ุจุงููุนู
3. ๐ **ุงูุนูู ููุนุงูุฉ** - ูู ููุงูุดุฉ ุนูููุฉ ููุชูุญุฉุ ุงูุฌูููุฑ ูุชุนูู ูู ุงูุฎุจุฑุงุก
4. ๐ **ุงูุนุฏุงูุฉ ูู ุงูุชูููู** - ูู ุฅูุณุงู ููููููู ุจุนูููุ ุดูุงููุฉ ุชุงูุฉ

**ุงููุจุงุฏุฆ ุงูุฃุณุงุณูุฉ:**
- **ุงูุดูุงููุฉ ุงูุชุงูุฉ:** ูู ุดูุก ุธุงูุฑ ููุฌูููุฑ
- **ุงูุนุงูููุฉ:** ูู ุงููุบุงุช ูุงูุฏูู ูุฏุนููุฉุ ูุง ุญูุงุฌุฒ ุฌุบุฑุงููุฉ ุฃู ูุบููุฉ
- **ุงูุนุฏุงูุฉ:** ุชูููู ุงูุฌูููุฑ ูู ุงูุญููุ ูุง ุชุฏุฎู ุบูุฑ ุดูุงู
- **ุงููุชุนุฉ ูุงููุงุฆุฏุฉ:** ุงูุชุนูู ุนู ุทุฑูู ุงููุชุนุฉุ ุงูุฑุจุญ ุงูุนุงุฏู

### 1.5 ุงููุฑุงุฌุน (References)
- ุงูุชูุซูู ุงูููู: `.blackbox/docs/`
- ุฎุทุฉ ุงูุชูููุฐ: `.gemini/DUELI_UNIFIED_MASTER_PLAN.md`
- ูุซุงุฆู ุงูุฑุคูุฉ ูุงููุชุทูุจุงุช: `.claude/`

---

## 2. ุงููุตู ุงูุนุงู (Overall Description)

### 2.1 ููุธูุฑ ุงูููุชุฌ (Product Perspective)
ุงูููุตุฉ ุนุจุงุฑุฉ ุนู ุชุทุจูู ููุจ ูุชูุงูู ูุชููู ูู:
- **Backend:** Hono framework ุนูู Cloudflare Workers
- **Database:** Cloudflare D1 (SQLite)
- **Frontend:** Vanilla TypeScript + TailwindCSS
- **Streaming:** WebRTC P2P + HLS
- **Hosting:** Cloudflare Pages

### 2.2 ููููุงุช ุงููุธุงู (System Components)

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                        Frontend (Client)                     โ
โ  โโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ    Core     โ  โ   Services  โ  โ         UI          โ  โ
โ  โ  State.ts   โ  โ AuthService โ  โ  Modal, Toast, etc  โ  โ
โ  โ ApiClient   โ  โ P2PConnectionโ โ  InteractionsUI   โ  โ
โ  โ CookieUtils โ  โ VideoCompositorโ โ  NotificationsUI  โ  โ
โ  โโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโโโโโ  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                              โ
                              โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                      Backend (API)                         โ
โ  โโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ  Middleware โ  โ Controllers โ  โ       Models        โ  โ
โ  โ   auth.ts   โ  โCompetition  โ  โ  CompetitionModel   โ  โ
โ  โ             โ  โ   Auth      โ  โ     UserModel       โ  โ
โ  โ             โ  โ   User      โ  โ   CategoryModel     โ  โ
โ  โโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโโโโโ  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                              โ
                              โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                      Infrastructure                        โ
โ         Cloudflare D1 (Database) + Cloudflare Pages        โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### 2.3 ูุธุงุฆู ุงูููุชุฌ (Product Functions)

#### 2.3.1 ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู (User Management)
- ุงูุชุณุฌูู ูุงูุฏุฎูู (OAuth + Email/Password)
- ุงูููู ุงูุดุฎุตู ูุงูุฅุนุฏุงุฏุงุช
- ุงููุชุงุจุนุฉ ุจูู ุงููุณุชุฎุฏููู
- ุงูุชุญูู ูู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู

#### 2.3.2 ุฅุฏุงุฑุฉ ุงูููุงูุณุงุช (Competition Management)
- ุฅูุดุงุก ููุงูุณุฉ (ููุฑูุฉ/ูุฌุฏููุฉ)
- ุงูุจุญุซ ุนู ุฎุตู
- ูุจูู/ุฑูุถ ุงูุทูุจุงุช
- ุงูุจุซ ุงููุจุงุดุฑ (P2P)
- ุงูุชุณุฌูู ูุงูุฃุฑุดูุฉ

#### 2.3.3 ุงูุชูุงุนู (Interactions)
- ุงูุฅุนุฌุงุจุงุช ูุงูุชุนูููุงุช
- ุงูุชููููุงุช (1-5 ูุฌูู)
- ุงูุชูุงุฑูุฑ ูุงูุฅุจูุงุบุงุช
- ุงูุฑุณุงุฆู ุงูุฎุงุตุฉ

#### 2.3.4 ุงูุฃุฑุจุงุญ (Earnings)
- ุญุณุงุจ ุงูุฃุฑุจุงุญ ุจูุงุกู ุนูู ุงูุชููููุงุช (80% ูููุชูุงูุณูู)
- ุณุฌู ุงูุฃุฑุจุงุญ (ูุนููุฉ/ูุฏููุนุฉ)
- ูุธุงู ุงูุฅุนูุงูุงุช

---

## 3. ุงููุชุทูุจุงุช ุงููุธูููุฉ (Functional Requirements)

### 3.1 ูุชุทูุจุงุช ุงููุณุชุฎุฏููู (User Requirements)

#### FR-001: ุงูุชุณุฌูู ุนุจุฑ OAuth
**ุงููุตู:** ูุฌุจ ุฃู ูุชููู ุงููุณุชุฎุฏููู ูู ุงูุชุณุฌูู ุจุงุณุชุฎุฏุงู:
- Google OAuth 2.0 โ
- Microsoft Azure AD โ
- Facebook OAuth โ
- TikTok OAuth (ููุฏ ุงูุงุฎุชุจุงุฑ)

**ุงููุฏุฎูุงุช:** OAuth token ูู ุงููุฒูุฏ  
**ุงููุฎุฑุฌุงุช:** ุญุณุงุจ ูุณุชุฎุฏู ุฌุฏูุฏ ุฃู ุชุณุฌูู ุฏุฎูู  
**ุงููููุฏ:** ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูุฌุจ ุฃู ูููู ูุฑูุฏุงู

#### FR-002: ุงูุชุณุฌูู ุจุงูุจุฑูุฏ ุงูุฅููุชุฑููู
**ุงููุตู:** ุงูุชุณุฌูู ุงูุชูููุฏู ุจุงูุจุฑูุฏ ููููุฉ ุงููุฑูุฑ  
**ุงููุฏุฎูุงุช:** ุงูุงุณูุ ุงูุจุฑูุฏุ ูููุฉ ุงููุฑูุฑ (8 ุฃุญุฑู ุนูู ุงูุฃูู)ุ ุงูุฏููุฉุ ุงููุบุฉ  
**ุงููุฎุฑุฌุงุช:** ุญุณุงุจ ูุน ุฑูุฒ ุชุญูู  
**ุงููููุฏ:** ุงูุชุญูู ูู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูุจู ุงูุงุณุชุฎุฏุงู

#### FR-003: ุงูููู ุงูุดุฎุตู
**ุงููุตู:** ุนุฑุถ ูุชุญุฏูุซ ุจูุงูุงุช ุงููุณุชุฎุฏู  
**ุงูุจูุงูุงุช:** ุงูุงุณูุ ุงูุตูุฑุฉุ ุงูุณูุฑุฉุ ุงูุฏููุฉุ ุงููุบุฉุ ุงูุฅุญุตุงุฆูุงุช (ุงูููุงูุณุงุชุ ุงููุชุงุจุนูู)

### 3.2 ูุชุทูุจุงุช ุงูููุงูุณุงุช (Competition Requirements)

#### FR-004: ุฅูุดุงุก ููุงูุณุฉ
**ุงููุตู:** ุฅูุดุงุก ููุงูุณุฉ ุฌุฏูุฏุฉ  
**ุงูุฃููุงุน:**
- ููุฑูุฉ (ุชุจุฏุฃ ููุฑุงู ุนูุฏ ูุฌูุฏ ุฎุตู)
- ูุฌุฏููุฉ (ุชุจุฏุฃ ูู ููุช ูุญุฏุฏ)

**ุงููุฏุฎูุงุช:** ุงูุนููุงูุ ุงููุตูุ ุงูููุงุนุฏุ ุงููุฆุฉุ ุงูุชุตููู ุงููุฑุนูุ ุงููุบุฉุ ุงูุฏููุฉุ ููุช ุงูุฌุฏููุฉ (ุงุฎุชูุงุฑู)  
**ุงููุฎุฑุฌุงุช:** ููุงูุณุฉ ุจุญุงูุฉ "pending"

#### FR-005: ุงูุจุญุซ ุนู ุฎุตู
**ุงููุตู:** ุทูุจ ุงูุงูุถูุงู ูุฎุตู ูููุงูุณุฉ  
**ุงููููุฏ:**
- ูุง ูููู ุทูุจ ุงูุงูุถูุงู ูููุณ ุงูููุงูุณุฉ ูุฑุชูู
- ูุง ูููู ูุฌูุฏ ุฃูุซุฑ ูู ุฎุตู ูุงุญุฏ

#### FR-006: ุฅุฏุงุฑุฉ ุงูุทูุจุงุช
**ุงููุตู:** ูุจูู ุฃู ุฑูุถ ุทูุจุงุช ุงูุงูุถูุงู  
**ุงูููุทู:**
- ุนูุฏ ุงููุจูู: ุฑูุถ ุงูุทูุจุงุช ุงูุฃุฎุฑู ุชููุงุฆูุงู
- ุญุฐู ุงูููุงูุณุงุช ุงููุชุนุงุฑุถุฉ (ููุณ ุงูููุช ยฑ2 ุณุงุนุฉ)

#### FR-007: ุงูุจุซ ุงููุจุงุดุฑ
**ุงููุตู:** ุจุซ ุงูููุงูุณุฉ ูุจุงุดุฑุฉ  
**ุงูุชูููุงุช:**
- WebRTC P2P ูููุชูุงูุณูู
- HLS ูููุดุงูุฏูู
- Jitsi ูู fallback ุฅุฐุง ูุดู P2P
- ุชุณุฌูู ุงูููุฏูู (VOD)

**ุงูุญุงูุงุช:** live โ completed  
**ุงููุฏุฉ:** ุฃูุตู ุณุงุนุชูู (120 ุฏูููุฉ)ุ ูุชู ุชุณุฌูููุง ุชููุงุฆูุงู  
**ุงูุชุญุฐูุฑ:** ุชูุจูู ุนูุฏ ุงููุตูู ุฅูู 110 ุฏูุงุฆูุ ุฅููุงู ุชููุงุฆู ุนูุฏ 120 ุฏูููุฉ

**ุญุงูุงุช ุงูุทูุงุฑุฆ:**
- **ุงููุทุงุน ุฃุญุฏ ุงููุชูุงูุณูู:** ุงูุทุฑู ุงูุขุฎุฑ ูุณุชูุฑุ ุฅุนุงุฏุฉ ุงุชุตุงู ุชููุงุฆู ุฎูุงู 30 ุซุงููุฉุ ุฎูุงุฑ ุฅููุงุก ุจุนุฏ 5 ุฏูุงุฆู
- **ุงููุทุงุน ุงูุงุซููู:** ุฅููุงู ุชููุงุฆูุ ูุญุงููุฉ ุฅุนุงุฏุฉ ุงุชุตุงูุ ุฅููุงุก ุฅุฐุง ูู ูุนุฏ ุฃุญุฏ ุฎูุงู 5 ุฏูุงุฆู
- **ุนุฏู ุญุถูุฑ ุฃู ูุชูุงูุณ:** ุฅููุงุก ุชููุงุฆู ุจุฏูู ุนููุจุงุช ุฃู ุชูููู ุณูุจู
- **ุถุบุท ุฅููุงุก:** ูุชููู ุงูุจุซ ููุฑุงูุ ุงูููุงูุณุฉ ุชุชุญูู ูู Completed

**ุงูุชุญูู ุฃุซูุงุก ุงูุจุซ:**
- ุชุดุบูู/ุฅููุงู ุงููุงููุฑุง ูุงููููุฑูููู
- ุงูุชุจุฏูู ุจูู ูุงููุฑุงุช ูุชุนุฏุฏุฉ
- ุนุฑุถ ูุคูุช ุงูููุช ุงููููุถู ูุงููุชุจูู
- ุนุฑุถ ุญุงูุฉ ุงูุงุชุตุงู (ุฌูุฏ/ูุชูุณุท/ุถุนูู)

### 3.3 ูุชุทูุจุงุช ุงูุชูููู ูุงูุฃุฑุจุงุญ (Rating & Earnings)

#### FR-008: ูุธุงู ุงูุชูููู
**ุงููุตู:** ุชูููู ุงููุชูุงูุณูู **ุฃุซูุงุก** ุงูุจุซ ุงููุจุงุดุฑ (ูููุณ ุจุนุฏู)  
**ุงููุทุงู:** 0-100 ููุทุฉ ููู ูุชูุงูุณ (5 ูุฌูู ร 20 ููุทุฉ = 100)  
**ุงูููุงุนุฏ:**
- ูู ูุดุงูุฏ ููููู ุงููุชูุงูุณูู ุจุดูู ูุณุชูู
- ูููู ุฅุนุทุงุก 0 ููุงุซููู ุฃู 100 ููุงุซููู ุฃู ุฃู ุชูุฒูุน ุจููููุง
- ูููู ุชุนุฏูู ุงูุชูููู ูู ุฃู ููุช ุทูุงู ุงูุจุซ
- **ูุคุดุฑ live** ูุธูุฑ ููุฌููุน: ุฅุฌูุงูู ุงูููุงุท ููู ูุชูุงูุณ ูุน ุชุญุฏูุซ ูุจุงุดุฑ
- ุนูุฏ ุงูุฅููุงุก: ุงูุชูููู ูุชููู ููุงุฆูุงู ููุง ูููู ุงูุชุนุฏูู
- ุญุณุงุจ ุงููุชุงุฆุฌ: ูุณุจุฉ ุฃ = (ููุงุท ุฃ รท ุงููุฌููุน ุงูููู) ร 100

**ุงููููุฏ:** ูุง ูููู ูููุชูุงูุณ ุชูููู ููุณู

#### FR-009: ุญุณุงุจ ุงูุฃุฑุจุงุญ
**ุงููุตู:** ุชูุฒูุน ุฃุฑุจุงุญ ุงูุฅุนูุงูุงุช  
**ุงูููุทู:**
```
ูุณุจุฉ ุงููุชูุงูุณ = (ุชููููู / ูุฌููุน ุงูุชููููุงุช) ร 80% ูู ุฅุฌูุงูู ุงูุฃุฑุจุงุญ
20% ููููุตุฉ (MaelshPro)
```

**ุงูุญุงูุงุช:** ูุนููุฉ (pending) โ ูุฏููุนุฉ (paid)

### 3.4 ูุชุทูุจุงุช ุงูุชูุงุนู (Interaction Requirements)

#### FR-010: ุงูุฅุนุฌุงุจุงุช
**ุงููุตู:** ุงูุฅุนุฌุงุจ ุจุงูููุงูุณุงุช  
**ุงููููุฏ:** ูุง ูููู ุงูุฅุนุฌุงุจ ูุฑุชูู

#### FR-011: ุงูุชุนูููุงุช
**ุงููุตู:** ุฅุถุงูุฉ ุชุนูููุงุช ุนูู ุงูููุงูุณุงุช  
**ุงูุฃููุงุน:** ุชุนูููุงุช ูุจุงุดุฑุฉ (ุฃุซูุงุก ุงูุจุซ) ุฃู ุนุงุฏูุฉ  
**ุงูุชุฌููุฏ:** ุจุนุฏ ุงูุชูุงุก ุงูุจุซุ ุงูุชุนูููุงุช ุชูุฌูููุฏ ููุง ูููู ุฅุถุงูุฉ ุชุนูููุงุช ุฌุฏูุฏุฉ  
**ุงููุฒุงููุฉ:** ุงูุชุนูููุงุช ุชูุนุฑุถ ูุน ุงูููุฏูู ุงููุณุฌู ุจููุณ ุงูุชูููุช ุงูุฐู ููุชุจุช ููู ุฃุซูุงุก ุงูุจุซ  
**ุงูููุฒุงุช:**
- ุธููุฑ ููุฑู ููู ุงููุดุงูุฏูู ูุงููุชูุงูุณูู
- ุชุณุฌูู timestamp ููู ุชุนููู
- ุงูุญุฏ ุงูุฃูุตู: 500 ุญุฑู ููู ุชุนููู

#### FR-012: ุงูุชูุงุฑูุฑ ูุงูุจูุงุบุงุช
**ุงููุตู:** ุงูุฅุจูุงุบ ุนู ูุญุชูู ูุฎุงูู  
**ุงูุฃูุฏุงู:** ูุณุชุฎุฏูุ ููุงูุณุฉุ ุชุนููู  
**ุงูุฃููุงุน:** ูุญุชูู ุบูุฑ ูุงุฆูุ ุชุญุฑุดุ spamุ ูุนูููุงุช ูุถููุฉุ ุฎุทุฃ ุชููู  
**ุงูุญุงูุงุช:** pending โ ููุฏ ุงูุชุญููู โ ููุชูู/ูุฑููุถ  
**ุงูุดูุงููุฉ:** ูู ุจูุงุบ ููุนุฑุถ ุนูููุงู ููุดูู:
- ุงุณู ุงูููุจููุบ ูุงูููุจููุบ ุนูู
- ูู ุงุณุชูู ุงูุจูุงุบ ูุชุงุฑูุฎ ุงูุงุณุชูุงู
- ุงูุฅุฌุฑุงุก ุงููุชุฎุฐ ูุงูุณุจุจ  

**ุงูุฅุฌุฑุงุกุงุช ุงูููููุฉ:** ุญุฐู ุงููุญุชููุ ุญุธุฑ ุงููุณุชุฎุฏู (1/7/30 ูููุ ุฏุงุฆู)ุ ุชุญุฐูุฑุ ุฑูุถ ุงูุจูุงุบุ ุชุตุนูุฏ  
**ุงูุทุนู:** ูููู ููููุจููุบ ุฃู ุงูููุจููุบ ุนูู ุทูุจ ูุฑุงุฌุนุฉ ูู ูุฆุฉ ุฃุนูู  
**ุชูููู ุงูุฌูููุฑ:** ุงูุฌูููุฑ ููููู ูุฑุงุฑ ุงูุฅุฏุงุฑุฉ (ุฑุงุถู/ุบูุฑ ุฑุงุถู) ูุน ุนุฑุถ ุฅุญุตุงุฆูุงุช ุงูุฑุถุง ุนูููุงู

#### FR-013: ุงูุฑุณุงุฆู ุงูุฎุงุตุฉ
**ุงููุตู:** ูุฑุงุณูุฉ ุจูู ุงููุณุชุฎุฏููู  
**ุงูููุฒุงุช:** ูุญุงุฏุซุงุช ูุฑุฏูุฉุ ูุฑุงุกุฉ ุงูุฑุณุงุฆูุ ุนุฏุงุฏ ุบูุฑ ููุฑูุก  
**ุงููููุงุช:** ูู ุตูุฏูู ุงูุฑุณุงุฆูุ ูู ุงูููู ุงูุดุฎุตูุ ูู ุฏุงุฎู ุงูุชุนูููุงุช  
**ุงูุญุฏ ุงูุฃูุตู:** 2000 ุญุฑู ููุฑุณุงูุฉุ ุฅุฑูุงู ุตูุฑุฉ (5MB)

### 3.5 ูุชุทูุจุงุช ุงูุฅุฏุงุฑุฉ (Admin Requirements)

#### FR-014: ููุญุฉ ุงูุฃุฏูู
**ุงููุตู:** ุฅุฏุงุฑุฉ ุงูููุตุฉ  
**ุงููุธุงุฆู:**
- ุฅุญุตุงุฆูุงุช (ุงููุณุชุฎุฏูููุ ุงูููุงูุณุงุชุ ุงูุจูุงุบุงุชุ ุงูุฅุนูุงูุงุช)
- ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู (ุญุธุฑ/ูู ุญุธุฑ)
- ูุฑุงุฌุนุฉ ุงูุจูุงุบุงุช
- ุฅุฏุงุฑุฉ ุงูุฅุนูุงูุงุช (CRUD)
- ุฅููุงู/ุญุฐู ููุงูุณุงุช ูุฎุงููุฉ ูุน ุนุฑุถ ุงูุณุจุจ ุนูููุงู

**ุงููููู ุงูุฅุฏุงุฑู:**
```
Admin (ุฅุฏุงุฑุฉ ุนููุง) โ Supervisor (ูุดุฑููู) โ Moderator (ูุฑุงูุจูู) โ Support (ุฏุนู ููู)
```

**ุงูุดูุงููุฉ ุงูุฅุฏุงุฑูุฉ:** ุตูุญุฉ ุนุงูุฉ "ูุฑูู ุงูุฅุฏุงุฑุฉ" ุชุนุฑุถ ููู ููุธู:
- ุงูุงุณู ุงููุงูู ูุงูุฏูุฑ ูุงูุตูุฑุฉ
- ุงูุฑุงุชุจ ุงูุดูุฑู ุจุงูุฏููุงุฑ ูุงูุฏุฎู ุงูุฅุถุงูู
- ุชุงุฑูุฎ ุงูุงูุถูุงู ูุนุฏุฏ ุงูุจูุงุบุงุช ุงููุนุงูุฌุฉ
- ูุชูุณุท ููุช ุงูุงุณุชุฌุงุจุฉ ูุณุฌู ุงูุฅุฌุฑุงุกุงุช

**ุงูุชุฏุฎู ูู ุงูููุงูุณุงุช:** ุงูููุงูุณุงุช ุชุนูู ุชููุงุฆูุงู ุจุฏูู ุชุฏุฎู ุฅุฏุงุฑู ูุณุจูุ ุงูุชุฏุฎู ููุท ุนูุฏ ุจูุงุบ ุฃู ูุดู ูุฎุงููุฉ

### 3.6 ูุชุทูุจุงุช ุงูุฅุนูุงูุงุช (Advertising Requirements)

#### FR-015: ูุธุงู ุงูุฅุนูุงูุงุช
**ุงููุตู:** ุนุฑุถ ุงูุฅุนูุงูุงุช ุฃุซูุงุก ุงูุจุซ ููู ุงูุชุณุฌููุงุช  
**ุงูุฃููุงุน:**
- Pre-roll: ูุจู ุงูุจุซ (5-15 ุซุงููุฉ)
- Mid-roll: ูู ุงูููุชุตู ุฅุฐุง ุฃุทูู ูู 30 ุฏูููุฉ (5-10 ุซูุงูู)
- ุฅููุงููุฉ ุงูุชุฎุทู ุจุนุฏ 5 ุซูุงูู  

**ุงูููุฏ:** ูุง ุฅุนูุงู ุจุฏูู ุฏูุน ูุณุจู (Stripe/PayPal)

#### FR-016: ุญุธุฑ ุงูุฅุนูุงูุงุช (ูููุชูุงูุณ)
**ุงููุตู:** ูู ูุชูุงูุณ ููููู ุญุธุฑ ุฅุนูุงูุงุช ูุนููุฉ ูู ููุงูุณุงุชู  
**ุงููุงุนุฏุฉ:** ุฅุฐุง ุญุธุฑ ุฃู ุทุฑู (ุงููููุดุฆ ุฃู ุงูุฎุตู) ุฅุนูุงูุงู โ ูุง ูุธูุฑุ ููุณุชุจุฏู ุชููุงุฆูุงู  
**ุงูุดุฑุท:** ููุง ุงูุทุฑููู ูุฌุจ ุฃู ููุงููุง ููุธูุฑ ุงูุฅุนูุงู

#### FR-017: ุงูุดูุงููุฉ ุงูุฅุนูุงููุฉ
**ุงููุตู:** ุตูุญุฉ ุนุงูุฉ ุชุนุฑุถ ูู ุงูุฅุนูุงูุงุช  
**ุงูุจูุงูุงุช ุงููุนุฑูุถุฉ:**
- ุงุณู ุงููุนููุ ุชุงุฑูุฎ ุงูุญุฌุฒุ ุงููุจูุบ ุงููุฏููุน
- ุงูููุงูุณุงุช ุงููุณุชูุฏูุฉุ ุนุฏุฏ ุงููุดุงูุฏุงุชุ ุนุฏุฏ ุงูููุฑุงุช
- ุงูุฅูุฑุงุฏุงุช ุงููุงุชุฌุฉ ูุชูุฒูุนูุง (20% ููููุตุฉุ 80% ูููุชูุงูุณูู)

### 3.7 ูุชุทูุจุงุช ุงูุฏูุน (Payment Requirements)

#### FR-018: ุทุฑู ุงูุฏูุน ูุงูุงุณุชูุงู
**ุงููุตู:** ุชุณุฌูู ุทุฑููุฉ ุงุณุชูุงู ุงูุฃุฑุจุงุญ  
**ุงูุฎูุงุฑุงุช:**
- ุญุณุงุจ ุจููู (IBAN, Swift Code, ุงุณู ุงูุจูู)
- PayPal (ุงูุจุฑูุฏ)
- Wise (ุงูุจุฑูุฏ)  

**ุขููุฉ ุงูุฏูุน:** ุงูุฏูุน ูุชู ููุท ุจุนุฏ ุงุณุชูุงู ุงูููุตุฉ ูููุงู ูู ุงููุนูููู + ูุชุฑุฉ ุฃูุงู 7 ุฃูุงู  
**ุงูุฅูุตุงูุงุช:** ูุงุชูุฑุฉ PDF ููู ุฏูุนุฉ (ุฑููุ ุชุงุฑูุฎุ ุชูุงุตููุ ูุจูุบ) + ุฅุดุนุงุฑ ููุณุฎุฉ ููุจุฑูุฏ

#### FR-019: ุชุชุจุน ุงูุฃุฑุจุงุญ
**ุงููุตู:** ุตูุญุฉ "ุฃุฑุจุงุญู" ูู ุงูููู ุงูุดุฎุตู ุชุนุฑุถ ููู ููุงูุณุฉ:
- ุงูุฅุนูุงูุงุช ุงูุชู ุธูุฑุช ูุงูุฅูุฑุงุฏ ูู ูู ุฅุนูุงู
- ูุณุจุฉ ุงููุชูุงูุณ ูุงููุจูุบ ุงููุณุชุญู
- ุญุงูุฉ ุงูุฏูุน (ูุนูู/ูุฏููุน) ูุชุงุฑูุฎ ุงูุฏูุน

#### FR-020: ุงูููุญ ูุงูุฏุนู
**ุงููุตู:** ูุธุงู ุชุจุฑุนุงุช  
**ุงูุฃููุงุน:**
- ูุณุชุฎุฏู โ ููุตุฉ (ุฏุนู ุงูููุตุฉ)
- ูุณุชุฎุฏู โ ูุณุชุฎุฏู (ุฏุนู ูุจุงุดุฑ)  

**ุงูุดูุงููุฉ:** ููุนุฑุถ ุนูููุงู (ุฅุฐุง ุฃุฑุงุฏ ุงููุฑุณู): ูู ุฃุฑุณูุ ุงููุจูุบุ ุงูุชุงุฑูุฎ  
**ุงูุญุฏ ุงูุฃุฏูู:** $1

### 3.8 ูุชุทูุจุงุช ุงูุฃุฑุดูุฉ (Archiving Requirements)

#### FR-021: ุงูุชุณุฌูู ูุงูุฃุฑุดูุฉ
**ุงููุตู:** ุชุณุฌูู ุชููุงุฆู ููุจุซ ุงููุจุงุดุฑ ูุฃุฑุดูุชู  
**ุงูุชุณุฌูู:**
- ุชุณุฌูู ุงูููุฏูู ุจุฌูุฏุฉ 720p
- ุญูุธ ุงูุชุนูููุงุช ูุน timestamps
- ุญูุธ ุงููุชุงุฆุฌ ุงูููุงุฆูุฉ  

**ุงููุดุงูุฏุฉ:** ุงูููุฏูู + ุงูุชุนูููุงุช ุงููุชุฒุงููุฉ + ุงููุชุงุฆุฌ  
**ุงูุชุญููู:** ูุชุงุญ ููุฌููุน (MP4ุ ุจุฏูู ุชุนูููุงุช)  
**ุญููู ุงููุดุฑ:** ุงูุนุฑุถ ุนูู ููุตุงุช ุฎุงุฑุฌูุฉ (YouTube, etc) ุญุตุฑู ููุฅุฏุงุฑุฉ

### 3.9 ูุชุทูุจุงุช ุงูุฎุตูุตูุฉ ูุญุฐู ุงูุจูุงูุงุช (Privacy & Data Deletion)

#### FR-022: ุฅุนุฏุงุฏุงุช ุงูุฎุตูุตูุฉ
**ุงููุตู:** ุชุญูู ุงููุณุชุฎุฏู ูู ุจูุงูุงุชู ุงููุนุฑูุถุฉ  
**ุงูุฎูุงุฑุงุช:**
- ุนุฑุถ ุงูุจุฑูุฏ (ุนุงู/ุฎุงุต)
- ุนุฑุถ ุงูููุงูุณุงุช ุงูุณุงุจูุฉ (ุนุงู/ุฎุงุต)
- ูู ูุณุชุทูุน ูุฑุงุณูุชู (ุงูุฌููุน/ุงููุชุงุจูุนูู/ูุง ุฃุญุฏ)

#### FR-023: ุญุฐู ุงูุญุณุงุจ
**ุงููุตู:** ุญุฐู ุจูุงูุงุช ุงููุณุชุฎุฏู  
**ูุง ููุญุฐู:** ุงูุจูุงูุงุช ุงูุดุฎุตูุฉ (ุงูุงุณูุ ุงูุตูุฑุฉุ ุงููุจุฐุฉ)ุ ุงูุญุณุงุจ ุงูุจูููุ ุงูุฑุณุงุฆู ุงูุฎุงุตุฉ  
**ูุง ูุง ููุญุฐู:** ุงูููุงูุณุงุช (ููู ุนุงู)ุ ุงูุชุนูููุงุช (ุฌุฒุก ูู ุงูุณุฌู)ุ ุงูุชููููุงุช  
**ุงููุชูุฌุฉ:** ุงูุจุฑููุงูู ูุชุญูู ูู "ูุณุชุฎุฏู ูุญุฐูู" ูุน ุจูุงุก ุงูููุงูุณุงุช ุจุฏูู ุฑุจุท

### 3.10 ูุชุทูุจุงุช ุงูุฒุงุฆุฑ (Visitor Requirements)

#### FR-024: ุงูุฒุงุฆุฑ ุบูุฑ ุงููุณุฌู
**ุงููุตู:** ุฅููุงููุงุช ุงููุณุชุฎุฏู ุงูุฒุงุฆุฑ  
**ูุชุงุญ:**
- ุชุตูุญ ุงูููุงูุณุงุช (ุญูุฉ ููุณุฌูุฉ)
- ุงูุจุญุซ ุนู ููุงูุณุงุช ููุณุชุฎุฏููู
- ูุดุงูุฏุฉ ุงูุจุซ ุงููุจุงุดุฑ
- ุงููุตูู ููููุงุช ุงููุณุชุฎุฏููู  

**ุบูุฑ ูุชุงุญ:** ุงูุชุนูููุ ุงูุชููููุ ุงููุฑุงุณูุฉุ ูุชุญ ููุงูุณุฉ (ููุทูุจ ุงูุชุณุฌูู)

### 3.11 ูุชุทูุจุงุช ุงูููุตุฉ ุงูููุชูุญุฉ (Open Source Requirements)

#### FR-025: ุงููุตุฏุฑ ุงูููุชูุญ
**ุงููุตู:** ุงูููุตุฉ ููุชูุญุฉ ุงููุตุฏุฑ  
**ุงูููุฒุงุช:**
- ุงูููุฏ ูุชุงุญ ููุฌููุน
- ุฅููุงููุฉ ุงููุณุงููุฉ (Contributions)
- ุฅููุงููุฉ Self-hosting  

**ุงูููุฏ:** ููุน ุงูุงุณุชุฎุฏุงู ุงูุชุฌุงุฑู ุจุฏูู ุฅุฐู ูู Maelsh Pro

---

## 4. ุงููุชุทูุจุงุช ุบูุฑ ุงููุธูููุฉ (Non-Functional Requirements)

### 4.1 ุงูุฃุฏุงุก (Performance)

#### NFR-001: ุณุฑุนุฉ ุงูุงุณุชุฌุงุจุฉ
- API response time: < 500ms (p95)
- Page load time: < 2 seconds
- Streaming latency: < 3 seconds (P2P), < 10 seconds (HLS)

#### NFR-002: ุงููุฏุฑุฉ ุงูุงุณุชูุนุงุจูุฉ
- ุฏุนู 1000+ ูุณุชุฎุฏู ูุชุฒุงูู
- 100+ ููุงูุณุฉ ูุจุงุดุฑุฉ ูู ููุณ ุงูููุช
- ุชุฎุฒูู ุบูุฑ ูุญุฏูุฏ ููููุฏูููุงุช ุงููุณุฌูุฉ (ุนูู ุงูุฎุงุฏู ุงูุฎุงุฑุฌู)

### 4.2 ุงูุฃูุงู (Security)

#### NFR-003: ุงููุตุงุฏูุฉ
- JWT sessions ูุน ุงูุชูุงุก ุตูุงุญูุฉ (30 ููู)
- OAuth 2.0 ูุน state parameter
- ุชุดููุฑ ูููุงุช ุงููุฑูุฑ (SHA-256)

#### NFR-004: ุงูุชูููุถ
- Role-based access control (User, Admin)
- Middleware ููุชุญูู ูู ุงูุตูุงุญูุงุช

#### NFR-005: ุงูุญูุงูุฉ
- CORS ูุญุฏุฏ
- Rate limiting (ูุณุชูุจูุงู)
- XSS protection (output encoding)

### 4.3 ุงูููุซูููุฉ (Reliability)

#### NFR-006: ุงูุชููุฑ
- Uptime target: 99.9%
- Cloudflare Pages (CDN) ููู frontend
- Cloudflare Workers ููู backend

#### NFR-007: ุงููุณุฎ ุงูุงุญุชูุงุทู
- D1 database backups (ุชููุงุฆู ูู Cloudflare)
- ุชุณุฌูู ุงูููุฏูููุงุช ุนูู ุฎุงุฏู ุฎุงุฑุฌู

### 4.4 ูุงุจููุฉ ุงูุงุณุชุฎุฏุงู (Usability)

#### NFR-008: ุงูุชุตููู
- Responsive design (Mobile-first)
- ุฏุนู ุงููุถุน ุงููููู/ุงูููุงุฑู
- RTL ููุบุฉ ุงูุนุฑุจูุฉ

#### NFR-009: ุงููุบุงุช
- Arabic (553 ููุชุงุญ)
- English (577 ููุชุงุญ)
- ุณูู ุฅุถุงูุฉ ูุบุงุช ุฌุฏูุฏุฉ

### 4.5 ุงููุงุจููุฉ ููุตูุงูุฉ (Maintainability)

#### NFR-010: ุงูุจููุฉ
- MVC architecture
- OOP principles
- Modular design

#### NFR-011: ุงูุชูุซูู
- TypeScript types
- JSDoc comments
- ูุฐุง ุงููุณุชูุฏ (SRS)

---

## 5. ูููุฏ ุงููุธุงู (System Constraints)

### 5.1 ุชูููุฉ (Technical Constraints)
- **ุงูููุตุฉ:** Cloudflare (Workers + D1 + Pages)
- **ูุงุนุฏุฉ ุงูุจูุงูุงุช:** SQLite (D1) - ูุง ุชุฏุนู ุฌููุน ููุฒุงุช PostgreSQL
- **ุงูุญุฏ ุงูุฃูุตู ููููู:** 100MB (Cloudflare Workers)
- **ุชูููุฐ ุงูููุฏ:** 50ms CPU time per request

### 5.2 ุนูููุฉ (Operational Constraints)
- **ุงูููุตุฉ ุบูุฑ ุฑุจุญูุฉ:** 20% ูู ุงูุฃุฑุจุงุญ ููุฅุฏุงุฑุฉ ููุท
- **ููุชูุญุฉ ุงููุตุฏุฑ:** GPL/Apache license (ุบูุฑ ูุญุฏุฏ ุจุนุฏ)
- **ุงูุดุฑูุฉ ุงููุคุณุณุฉ:** MaelshPro

### 5.3 ูุงููููุฉ (Legal Constraints)
- **GDPR/CCPA:** ูุฌุจ ุฏุนู ุญุฐู ุงูุจูุงูุงุช
- **COPPA:** ูุง ูุณูุญ ููุฃุทูุงู < 13 ุณูุฉ
- **DMCA:** ูุธุงู ุงูุฅุจูุงุบ ุนู ุงูุชูุงู ุญููู ุงููุดุฑ

---

## 6. ูุงุฌูุงุช ุงููุธุงู (System Interfaces)

### 6.1 ูุงุฌูุงุช ุงููุณุชุฎุฏู (User Interfaces)

#### 6.1.1 ุงูุตูุญุงุช ุงูุฑุฆูุณูุฉ
| ุงูุตูุญุฉ | ุงููุตู |
|--------|-------|
| / | ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ (ุงูููู) |
| /about | ุนู ุงูููุตุฉ |
| /create | ุฅูุดุงุก ููุงูุณุฉ |
| /competition/:id | ุตูุญุฉ ุงูููุงูุณุฉ |
| /live/:id | ุบุฑูุฉ ุงูุจุซ ุงููุจุงุดุฑ |
| /profile/:username | ุงูููู ุงูุดุฎุตู |
| /messages | ุงูุฑุณุงุฆู |
| /settings | ุงูุฅุนุฏุงุฏุงุช |
| /earnings | ุงูุฃุฑุจุงุญ |
| /explore | ุงูุงุณุชูุดุงู |
| /donate | ุงูุชุจุฑุน |
| /reports | ุงูุจูุงุบุงุช |

#### 6.1.2 ููููุงุช UI ูุดุชุฑูุฉ
- Navigation (ุดุฑูุท ุงูุชููู)
- LoginModal (ูุงูุฐุฉ ุงูุฏุฎูู)
- CompetitionCard (ุจุทุงูุฉ ุงูููุงูุณุฉ)
- UserCard (ุจุทุงูุฉ ุงููุณุชุฎุฏู)
- Footer (ุงูุชุฐููู)

### 6.2 ูุงุฌูุงุช ุงูุจุฑูุฌุฉ (API Interfaces)

#### 6.2.1 ุงููุตุงุฏูุฉ (Auth)
```
POST   /api/auth/register
POST   /api/auth/login
GET    /api/auth/session
GET    /api/auth/verify
POST   /api/auth/forgot-password
POST   /api/auth/reset-password
GET    /api/auth/oauth/:provider
```

#### 6.2.2 ุงูููุงูุณุงุช (Competitions)
```
GET    /api/competitions
POST   /api/competitions
GET    /api/competitions/:id
PUT    /api/competitions/:id
DELETE /api/competitions/:id
POST   /api/competitions/:id/request
POST   /api/competitions/:id/accept-request
POST   /api/competitions/:id/start
POST   /api/competitions/:id/end
POST   /api/competitions/:id/comments
POST   /api/competitions/:id/rate
```

#### 6.2.3 ุงููุณุชุฎุฏููู (Users)
```
GET    /api/users/:username
PUT    /api/users/:id
POST   /api/users/:id/follow
DELETE /api/users/:id/follow
GET    /api/users/:id/requests
```

#### 6.2.4 ุงูุชูุงุนูุงุช (Interactions)
```
POST   /api/competitions/:id/like
DELETE /api/competitions/:id/like
POST   /api/reports
GET    /api/reports/reasons
```

#### 6.2.5 ุงูุฑุณุงุฆู (Messages)
```
GET    /api/conversations
GET    /api/conversations/:id/messages
POST   /api/conversations/:id/messages
POST   /api/users/:id/message
```

#### 6.2.6 ุงูุฅุดุนุงุฑุงุช (Notifications)
```
GET    /api/notifications
POST   /api/notifications/:id/read
POST   /api/notifications/read-all
```

#### 6.2.7 ุงูุฅุนุฏุงุฏุงุช (Settings)
```
GET    /api/settings
PUT    /api/settings
GET    /api/settings/users/:id/posts
POST   /api/settings/posts
```

#### 6.2.8 ุงูุฌุฏููุฉ (Schedule)
```
GET    /api/schedule
GET    /api/schedule/reminders
POST   /api/schedule/competitions/:id/remind
DELETE /api/schedule/competitions/:id/remind
```

#### 6.2.9 ุงูุจุญุซ (Search)
```
GET    /api/search/competitions
GET    /api/search/users
GET    /api/search/suggestions
GET    /api/search/trending
GET    /api/search/live
GET    /api/search/pending
```

#### 6.2.10 ุงูุฅุฏุงุฑุฉ (Admin)
```
GET    /api/admin/stats
GET    /api/admin/users
PUT    /api/admin/users/:id/ban
GET    /api/admin/reports
PUT    /api/admin/reports/:id
GET    /api/admin/ads
POST   /api/admin/ads
PUT    /api/admin/ads/:id
DELETE /api/admin/ads/:id
```

### 6.3 ูุงุฌูุงุช ุงูุฃุฌูุฒุฉ (Hardware Interfaces)
- **ุงููุงููุฑุง:** WebRTC getUserMedia
- **ุงููููุฑูููู:** WebRTC getUserMedia
- **ูุดุงุฑูุฉ ุงูุดุงุดุฉ:** WebRTC getDisplayMedia

### 6.4 ูุงุฌูุงุช ุงูุจุฑูุฌูุงุช (Software Interfaces)
- **Cloudflare D1:** ูุงุนุฏุฉ ุงูุจูุงูุงุช
- **Cloudflare Workers:** ุงูุจูุฆุฉ ุงูุชูููุฐูุฉ
- **Jitsi Meet:** ุงูุจุซ ุงููุจุงุดุฑ (ุงุญุชูุงุทู)
- **iFastNet:** ุฎุงุฏู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- **YouTube:** ุชุถููู ุงูููุฏูููุงุช

---

## 7. ูุชุทูุจุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช (Database Requirements)

### 7.1 ุงูุฌุฏุงูู ุงูุฑุฆูุณูุฉ

| ุงูุฌุฏูู | ุงูุบุฑุถ | ุงูุณุฌูุงุช ุงููุชููุนุฉ |
|--------|-------|------------------|
| users | ุงููุณุชุฎุฏููู | 10,000+ |
| competitions | ุงูููุงูุณุงุช | 5,000+ |
| categories | ุงููุฆุงุช | 30 |
| comments | ุงูุชุนูููุงุช | 50,000+ |
| likes | ุงูุฅุนุฌุงุจุงุช | 100,000+ |
| ratings | ุงูุชููููุงุช | 20,000+ |
| messages | ุงูุฑุณุงุฆู | 100,000+ |
| conversations | ุงููุญุงุฏุซุงุช | 20,000+ |
| notifications | ุงูุฅุดุนุงุฑุงุช | 200,000+ |
| reports | ุงูุจูุงุบุงุช | 1,000+ |
| advertisements | ุงูุฅุนูุงูุงุช | 100 |
| ad_impressions | ูุฑุงุช ุธููุฑ ุงูุฅุนูุงู | 1,000,000+ |
| user_earnings | ุฃุฑุจุงุญ ุงููุณุชุฎุฏููู | 50,000+ |
| sessions | ุงูุฌูุณุงุช | 50,000+ |
| user_settings | ุฅุนุฏุงุฏุงุช ุงููุณุชุฎุฏููู | 10,000+ |
| user_posts | ููุดูุฑุงุช ุงููุณุชุฎุฏููู | 20,000+ |
| competition_requests | ุทูุจุงุช ุงูุงูุถูุงู | 20,000+ |
| competition_reminders | ุงูุชุฐููุฑุงุช | 30,000+ |
| follows | ุงููุชุงุจุนุงุช | 50,000+ |

### 7.2 ุงูุนูุงูุงุช (Relationships)

```
users ||--o{ competitions : creates
users ||--o{ competitions : participates_as_opponent
users ||--o{ comments : writes
users ||--o{ likes : gives
users ||--o{ ratings : gives
users ||--o{ messages : sends
users ||--o{ conversations : participates
users ||--o{ notifications : receives
users ||--o{ reports : submits
users ||--o{ user_earnings : earns
users ||--o{ sessions : has
users ||--o{ user_settings : configures
users ||--o{ user_posts : creates
users ||--o{ competition_requests : submits
users ||--o{ competition_reminders : sets
users ||--o{ follows : follows

competitions }o--|| categories : belongs_to
competitions ||--o{ comments : has
competitions ||--o{ likes : has
competitions ||--o{ ratings : has
competitions ||--o{ competition_requests : receives
competitions ||--o{ competition_reminders : has
competitions ||--o{ ad_impressions : generates

categories ||--o{ categories : has_subcategories

advertisements ||--o{ ad_impressions : generates
```

---

## 8. ูุชุทูุจุงุช ุงูุฌูุฏุฉ (Quality Requirements)

### 8.1 ุงูุงุฎุชุจุงุฑ (Testing)

#### 8.1.1 ุงุฎุชุจุงุฑ ุงููุญุฏุฉ (Unit Testing)
- **ุงููุทุงู:** Models, Services, Helpers
- **ุงูุฃุฏูุงุช:** Jest (ูุณุชูุจูุงู)
- **ุงูุชุบุทูุฉ:** 80%+

#### 8.1.2 ุงุฎุชุจุงุฑ ุงูุชูุงูู (Integration Testing)
- **ุงููุทุงู:** API endpoints
- **ุงูุฃุฏูุงุช:** Postman/Newman
- **ุงูุณููุงุฑูููุงุช:** Happy path + Error cases

#### 8.1.3 ุงุฎุชุจุงุฑ ุงููุธุงู (System Testing)
- **ุงููุทุงู:** End-to-end workflows
- **ุงูุฃุฏูุงุช:** Playwright/Cypress (ูุณุชูุจูุงู)
- **ุงูุณููุงุฑูููุงุช:**
  - ุชุณุฌูู ูุณุชุฎุฏู ุฌุฏูุฏ โ ุฅูุดุงุก ููุงูุณุฉ โ ุจุซ ูุจุงุดุฑ โ ุชูููู
  - ุงูุจุญุซ โ ูุชุงุจุนุฉ โ ุฑุณุงูุฉ

### 8.2 ุงูุฃุฏุงุก (Performance Testing)
- Load testing: 1000+ ูุณุชุฎุฏู ูุชุฒุงูู
- Stress testing: 100+ ุจุซ ูุจุงุดุฑ ูู ููุณ ุงูููุช
- Streaming quality: 720p@30fps minimum

---

## 9. ุงููุชุทูุจุงุช ุงููุณุชูุจููุฉ (Future Requirements)

### 9.1 ูุตูุฑุฉ ุงููุฏู (Short-term)
- [ ] ุงูุชูุงู TikTok OAuth
- [ ] ูุธุงู ุงูุฏูุน/ุงูุชุจุฑุน (Stripe/PayPal)
- [ ] ุชุทุจูู ููุจุงูู (PWA โ Native)
- [ ] ูุธุงู ุงูุฅุดุนุงุฑุงุช ุงูููุฑูุฉ (WebSockets)

### 9.2 ูุชูุณุทุฉ ุงููุฏู (Medium-term)
- [ ] AI-based content moderation
- [ ] Automatic highlight generation
- [ ] Multi-language live translation
- [ ] VR/AR support ููุจุซ ุงููุจุงุดุฑ

### 9.3 ุทูููุฉ ุงููุฏู (Long-term)
- [ ] Blockchain ููุนููุฏ ุงูุฐููุฉ (ุงูุฃุฑุจุงุญ)
- [ ] Decentralized storage (IPFS)
- [ ] DAO ููุญูููุฉ

---

## 10. ุงูููุงุญู (Appendices)

### Appendix A: ูููุฐุฌ ุจูุงูุงุช ุงููุณุชุฎุฏู (User Data Model)

```typescript
interface User {
  id: number;
  email: string;
  username: string;
  display_name: string;
  avatar_url: string;
  country?: string;
  language: 'ar' | 'en';
  is_admin: boolean;
  is_verified: boolean;
  bio?: string;
  total_competitions: number;
  total_wins: number;
  total_views: number;
  average_rating: number;
  total_earnings: number;
  created_at: string;
}
```

### Appendix B: ูููุฐุฌ ุจูุงูุงุช ุงูููุงูุณุฉ (Competition Data Model)

```typescript
interface Competition {
  id: number;
  title: string;
  description?: string;
  rules: string;
  category_id: number;
  subcategory_id?: number;
  creator_id: number;
  opponent_id?: number;
  status: 'pending' | 'accepted' | 'live' | 'completed' | 'cancelled';
  language: string;
  country?: string;
  scheduled_at?: string;
  started_at?: string;
  ended_at?: string;
  youtube_live_id?: string;
  youtube_video_url?: string;
  vod_url?: string;
  total_views: number;
  total_comments: number;
  likes_count: number;
  dislikes_count: number;
  created_at: string;
}
```

### Appendix C: ุญุงูุงุช ุงูููุงูุณุฉ (Competition State Machine)

```
โโโโโโโโโโโ    accept     โโโโโโโโโโโโ    start     โโโโโโโโ
โ pending โ โโโโโโโโโโโโโโโ accepted โ โโโโโโโโโโโโโโ live โ
โโโโโโโโโโโ               โโโโโโโโโโโโ              โโโโฌโโโโ
   โ                                                    โ
   โ decline/cancel                                     โ end
   โผ                                                    โผ
โโโโโโโโโโโ                                         โโโโโโโโโโโโ
โcancelledโ                                         โcompleted โ
โโโโโโโโโโโ                                         โโโโโโโโโโโโ
```

### Appendix D: ูุตุทูุญุงุช OAuth

| ุงููุฒูุฏ | ุงูุญุงูุฉ | ุงูููุงุญุธุงุช |
|--------|--------|-----------|
| Google | โ ูุนูู | v2 API |
| Microsoft | โ ูุนูู | Azure AD |
| Facebook | โ ูุนูู | Graph API v18 |
| TikTok | โ ููุฏ ุงูุงุฎุชุจุงุฑ | v2 API |

---

## 11. ุงูุชูุซูู ุงููุฑุฌุนู (References)

| ุงููุณุชูุฏ | ุงููุณุงุฑ |
|---------|--------|
| ุงูุชูุซูู ุงูููู ุงููุงูู | `.blackbox/docs/` |
| ุฎุทุฉ ุงูุชูููุฐ | `.gemini/DUELI_UNIFIED_MASTER_PLAN.md` |
| ุชูุฌููุงุช ุงููููุงุก | `.blackbox/agents/` |

---

**ุชู ุฅุนุฏุงุฏ ูุฐุง ุงููุณุชูุฏ ุจูุงุกู ุนูู ุงูุชูุซูู ุงูููู ุงููุชุงุญ ูููุดุฑูุน**  
**ุงูุฅุตุฏุงุฑ:** 1.0  
**ุงูุชุงุฑูุฎ:** 2026-02-10
